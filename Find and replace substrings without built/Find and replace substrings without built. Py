def find_and_replace_substring(main_string, old_substring, new_substring):
    """
    Finds and replaces all non-overlapping occurrences of old_substring 
    with new_substring in main_string using only basic looping and comparison.
    """
    
    # Get lengths for convenience and boundary checks
    main_len = len(main_string)
    old_len = len(old_substring)
    
    # Handle the edge case where the string to find is empty
    if old_len == 0:
        # The behavior for an empty old_substring is context-dependent, 
        # but often involves inserting the new_substring between every character.
        return new_substring.join(list(main_string))
    
    result = ""
    i = 0  # Current index in the main_string

    while i < main_len:
        # Check if a potential match exists starting at index i
        
        # 1. Boundary check: Do we have enough characters remaining for a match?
        if i + old_len <= main_len:
            
            # 2. Character-by-character comparison
            is_match = True
            for j in range(old_len):
                if main_string[i + j] != old_substring[j]:
                    is_match = False
                    break
            
            # 3. Decision based on comparison
            if is_match:
                # Match found: Append the new_substring and advance the index
                result += new_substring
                i += old_len  # Skip over the entire matched 'old_substring'
            else:
                # No match at this position: Append the current character and advance by 1
                result += main_string[i]
                i += 1
        
        else:
            # Not enough characters left for a full match, 
            # so append the rest of the main_string and stop
            result += main_string[i:]
            break
            
    return result

# ----------------- Example Usage -----------------

original_text = "The quick brown fox jumps over the lazy fox."
search_term = "fox"
replacement_term = "dog"

replaced_text = find_and_replace_substring(original_text, search_term, replacement_term)

print(f"Original Text:  '{original_text}'")
print(f"Search Term:    '{search_term}'")
print(f"Replacement:    '{replacement_term}'")
print(f"Result:         '{replaced_text}'")

print("\n--- Another Example (Different Lengths) ---")
text2 = "Apples are great. Apples are healthy."
search2 = "Apples"
replace2 = "Watermelons"

result2 = find_and_replace_substring(text2, search2, replace2)
print(f"Original Text:  '{text2}'")
print(f"Result:         '{result2}'")
